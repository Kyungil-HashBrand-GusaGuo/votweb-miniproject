import Web3 from 'web3';

const web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8001"))

let abi = [{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"checkVoteCount","outputs":[{"internalType":"uint256[3]","name":"","type":"uint256[3]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_num","type":"uint256"}],"name":"toVote","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"voteArray","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}];

let bytecode = "0x60e060405260016080818152600260a052600360c0819052610022929190610047565b5034801561002f57600080fd5b50600080546001600160a01b0319163317905561009f565b826003810192821561007a579160200282015b8281111561007a578251829060ff1690559160200191906001019061005a565b5061008692915061008a565b5090565b5b80821115610086576000815560010161008b565b6103d7806100ae6000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c80638da5cb5b14610051578063a1cec4ca14610081578063b520c9a514610096578063db46e82b146100ab575b600080fd5b600054610064906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61009461008f3660046102fa565b6100cc565b005b61009e6101f2565b6040516100789190610313565b6100be6100b93660046102fa565b610279565b604051908152602001610078565b33600090815260076020526040902054156101215760405162461bcd60e51b815260206004820152601060248201526f796f7520616c726561647920766f746560801b60448201526064015b60405180910390fd5b61012a81610290565b61016d5760405162461bcd60e51b8152602060048201526014602482015273796f752063616e20766f746520312c20322c203360601b6044820152606401610118565b336000908152600760209081526040808320849055838352600890915281208054916101988361035a565b919050555060005b60038110156101ee57600860006101b8836001610373565b815260200190815260200160002054600482600381106101da576101da61038b565b0155806101e68161035a565b9150506101a0565b5050565b6101fa6102dc565b6000546001600160a01b031633146102465760405162461bcd60e51b815260206004820152600f60248201526e3ab9b4b7339037b7363cb7b73bb2b960891b6044820152606401610118565b6040805160608101918290529060049060039082845b81548152602001906001019080831161025c575050505050905090565b6001816003811061028957600080fd5b0154905081565b6000805b60038110156102d35782600182600381106102b1576102b161038b565b0154036102c15750600192915050565b806102cb8161035a565b915050610294565b50600092915050565b60405180606001604052806003906020820280368337509192915050565b60006020828403121561030c57600080fd5b5035919050565b60608101818360005b600381101561033b57815183526020928301929091019060010161031c565b50505092915050565b634e487b7160e01b600052601160045260246000fd5b60006001820161036c5761036c610344565b5060010190565b6000821982111561038657610386610344565b500190565b634e487b7160e01b600052603260045260246000fdfea264697066735822122085693cd8249d31632fe15e207d7adeff910e6902eccf527df06cbb3fd0a7615d64736f6c634300080e0033";

let voteContractFactory = web3.eth.contract(abi);

let voteContractInstance = voteContractFactory.new({
    from:web3.eth.accounts[0], 
    data:bytecode, 
    gas:'5000000'
}, function(e,contract) {
    console.log(e, contract);
    if (typeof contract !== undefined) {
        console.log("Contract mined : " + contract.address + " transaction hash : " + contract.transactionHash)
    }
})

0x7736cea6aea324686717d5890e517c63211daf62
0x5dce1fe82e429b28b566f0f24560843f0e371ef633a53dcb40fc86616eee88c4

0xd1c823D3Eb5ac405E9f79a9457efeFe6366CB9bc